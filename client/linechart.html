<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Client-side Tests</title>
        <script src="/flocc.js"></script>
    </head>
    <body>
        <div id="container"></div>
        <div id="linechart"></div>
        <script>
            (function() {
                const environment = new flocc.GridEnvironment(5, 5);
                const renderer = new flocc.ASCIIRenderer(environment);
                renderer.mount("#container");
                const chart = new flocc.LineChartRenderer(environment, {
                    background: '#eee'
                });
                chart.mount('#linechart');

                function setup() {
                    environment.fill();
                    environment.getAgents().map(agent => {
                        agent.set("value", "-");
                    });
                }

                function draw() {
                    const center = environment.getAgentAt(4, 4);
                    center.set("value", "o");
                    environment.neighbors(center, 1, true).map(agent => {
                        agent.set("value", "x");
                    });
                    environment.tick();
                }

                setup();
                draw();
            })();
        </script>
    </body>
</html>
